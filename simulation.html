<!DOCTYPE html>
<html>
	<head>
		<title>Paxos!</title>
		<link rel="stylesheet" href="style.css" />
		<script src="Paxos.js"></script>
		<script src="CanvasMgr.js"></script>
		<script src="Rectangle.js"></script>
		<script src="NodeMgr.js"></script>
		<script src="Node.js"></script>
		<script src="MessageMgr.js"></script>
		<script src="Message.js"></script>
		<script src="Logger.js"></script>
		<script src="Functions.js"></script>
		<script type="text/javascript">
		window.onload = function() {
			document.getElementById('quorum_text').value = Math.floor(document.getElementById('numnodes').value/2) + 1;
			Paxos.getInstance().go();
		}
		
		// Pause simulation on spacebar.
		document.onkeypress = function(e) {
			var key = ( window.event ) ? event.keyCode : e.keyCode;
     
			switch( key )
			{
			  case 32:
				Paxos.getInstance().pause();
				return false;
			}
		}
		</script>
	</head>
	<body>
		<div id="content">
			<div id="ui">
				<p>Number of nodes: <input type="text" id="numnodes" value="9" />Size of Quorum: <input type="text" id="quorum_text" /><input type="submit" id="numnodes_update" value="Update" /></p>
				<br />
				
				<p><input type="submit" id="pause" value="Begin Simulation" /></p>
				<br />
				<p>Submit a value to the system: <input type="text" id="update_text" value="3" /><input type="submit" id="submit_update" value="Submit" /></p>
			</div><br />
			<div id="cnvs"><canvas id="canvas" width="1200" height="600"></canvas></div>
			<div id="log">
			</div>
		</div>
	</body>
</html>